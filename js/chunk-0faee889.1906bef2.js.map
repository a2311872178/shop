{"version":3,"sources":["webpack:///./src/views/main/Classification.vue?cd1c","webpack:///src/views/main/Classification.vue","webpack:///./src/views/main/Classification.vue?5168","webpack:///./src/views/main/Classification.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","goPage","scopedSlots","_u","key","fn","_v","proxy","model","value","callback","$$v","expression","_l","item","index","ref","refInFor","class","active","cat_deleted","toggleAsideMenu","_s","cat_name","childData","goodsindex","item1","index1","goSearch","cat_id","directives","name","rawName","staticRenderFns","component"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,QAAQ,YAAc,iBAAiBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,OAAO,cAAcC,YAAYX,EAAIY,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAACV,EAAG,MAAM,CAACE,YAAY,WAAW,CAACN,EAAIe,GAAG,YAAYC,OAAM,KAAQC,MAAM,CAACC,MAAOlB,EAAS,MAAEmB,SAAS,SAAUC,GAAMpB,EAAIkB,MAAME,GAAKC,WAAW,WAAWjB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,KAAKJ,EAAIsB,GAAItB,EAAe,aAAE,SAASuB,EAAKC,GAAO,OAAOpB,EAAG,KAAK,CAACS,IAAIW,EAAMC,IAAI,OAASD,EAAME,UAAS,EAAKC,MAAM,CAACC,OAAQL,EAAKM,aAAarB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAI8B,gBAAgBP,EAAMC,MAAU,CAACxB,EAAIe,GAAGf,EAAI+B,GAAGR,EAAKS,gBAAe,KAAK5B,EAAG,MAAM,CAACE,YAAY,wBAAwBN,EAAIsB,GAAItB,EAAIiC,UAAUjC,EAAIkC,aAAa,SAASX,EAAKC,GAAO,OAAOpB,EAAG,MAAM,CAACS,IAAIW,GAAO,CAACpB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIe,GAAG,IAAIf,EAAI+B,GAAGR,EAAKS,UAAU,OAAOhC,EAAIsB,GAAIC,EAAa,UAAE,SAASY,EAAMC,GAAQ,OAAOhC,EAAG,MAAM,CAACS,IAAIuB,EAAO9B,YAAY,UAAUE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIqC,SAASF,EAAMG,OAAOH,EAAMH,aAAa,CAAC5B,EAAG,MAAM,CAACmC,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASvB,MAAOiB,EAAc,SAAEd,WAAW,mBAAmBf,YAAY,WAAWC,MAAM,CAAC,IAAM,MAAMH,EAAG,IAAI,CAACJ,EAAIe,GAAGf,EAAI+B,GAAGI,EAAMH,mBAAkB,QAAO,MAAM,IACr6CU,EAAkB,GCwCtB,G,wCAAA,CACE,KADF,WAEI,MAAJ,CACM,MAAN,GACM,WAAN,EACM,YAAN,GACM,UAAN,KAKE,QAXF,WAYI,KAAJ,WAGE,QAAF,CACI,gBADJ,SACA,KAEM,GADA,KAAN,cACA,cAAM,CAGA,IAAN,sCACQ,GAAR,iCACU,KAAV,8BACU,MAGJ,EAAN,iBAEI,QAdJ,WAcM,IAAN,OAEM,KAAN,gBACQ,QAAR,SACQ,aAAR,EACQ,SAAR,IAGM,KAAN,OACQ,OAAR,MACQ,IAAR,gBACA,kBACQ,EAAR,eACA,0BAEU,EAAV,oCACY,EAAZ,eACY,EAAZ,WAEU,EAAV,gCACU,EAAV,2BACU,EAAV,+BACU,EAAV,oCACY,EAAZ,8BAGU,EAAV,oDACA,2DAEU,EAAV,iBAEA,mBACQ,EAAR,mBAGI,SAjDJ,SAiDA,KACM,KAAN,cAAQ,KAAR,SAAQ,MAAR,CAAU,IAAV,EAAU,SAAV,MAEI,KApDJ,WAqDM,KAAN,gBAEI,OAvDJ,SAuDA,GACM,KAAN,cAAQ,KAAR,QChHuW,I,YCOnWC,EAAY,eACd,EACA5C,EACA2C,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-0faee889.1906bef2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"classification\"},[_c('van-search',{attrs:{\"shape\":\"round\",\"placeholder\":\"抢满2880减300手机券\"},on:{\"click\":function($event){return _vm.goPage('GoSearch')}},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('div',{staticClass:\"content\"},[_vm._v(\"商品分类\")])]},proxy:true}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{staticClass:\"box clearfix\"},[_c('div',{staticClass:\"leftBox fl clearfix\"},[_c('ul',_vm._l((_vm.productData),function(item,index){return _c('li',{key:index,ref:'item' + index,refInFor:true,class:{active: item.cat_deleted},on:{\"click\":function($event){return _vm.toggleAsideMenu(item, index)}}},[_vm._v(_vm._s(item.cat_name))])}),0)]),_c('div',{staticClass:\"rightBox fl clearfix\"},_vm._l((_vm.childData[_vm.goodsindex]),function(item,index){return _c('div',{key:index},[_c('div',{staticClass:\"hotTitle fl\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(item.cat_name)+\" \")]),_vm._l((item.children),function(item1,index1){return _c('div',{key:index1,staticClass:\"type fl\",on:{\"click\":function($event){return _vm.goSearch(item1.cat_id,item1.cat_name)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item1.cat_icon),expression:\"item1.cat_icon\"}],staticClass:\"auto-img\",attrs:{\"alt\":\"\"}}),_c('p',[_vm._v(_vm._s(item1.cat_name))])])})],2)])}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"classification\">\r\n        <van-search\r\n          shape=\"round\"\r\n          placeholder=\"抢满2880减300手机券\"\r\n          v-model=\"value\"\r\n          @click=\"goPage('GoSearch')\"\r\n        >\r\n          <template #left>\r\n            <div class=\"content\">商品分类</div>\r\n          </template>\r\n        </van-search>\r\n        <div class=\"box clearfix\">\r\n            <div class=\"leftBox fl clearfix\">\r\n                <ul>\r\n                    <li :ref=\"'item' + index\" :class=\"{active: item.cat_deleted}\" v-for=\"(item,index) in productData\" :key=\"index\" @click=\"toggleAsideMenu(item, index)\">{{item.cat_name}}</li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"rightBox fl clearfix\">\r\n                <div v-for=\"(item,index) in childData[goodsindex]\" :key=\"index\">                \r\n                    <div class=\"hotTitle fl\">\r\n                        <div class=\"title\">\r\n                            {{item.cat_name}}\r\n                        </div>\r\n                        <div class=\"type fl\" v-for=\"(item1,index1) in item.children\" :key=\"index1\" @click=\"goSearch(item1.cat_id,item1.cat_name)\">\r\n                            <img\r\n                              class=\"auto-img\"\r\n                              v-lazy=\"item1.cat_icon\"\r\n                              alt\r\n                            />\r\n                            <p>{{item1.cat_name}}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import \"../../assets/css/classification.less\";\r\n    export default {\r\n        data(){\r\n            return{\r\n                value:\"\",\r\n                goodsindex:0,\r\n                productData:[],\r\n                childData:[],\r\n                // childsData:[]\r\n            }\r\n        },\r\n\r\n        created(){\r\n            this.Product();\r\n        },\r\n\r\n        methods:{\r\n            toggleAsideMenu(item, index) {\r\n                this.goodsindex = index;\r\n                if (item.cat_deleted) {\r\n                    return;\r\n                }\r\n                for (let i = 0; i < this.productData.length; i++) {\r\n                    if (this.productData[i].cat_deleted) {\r\n                        this.productData[i].cat_deleted = false;\r\n                        break;\r\n                    }\r\n                }\r\n                item.cat_deleted = true;\r\n            },\r\n            Product() {\r\n                //开启加载提示\r\n                this.$toast.loading({\r\n                    message: \"加载中...\",\r\n                    forbidClick: true,\r\n                    duration: 0\r\n                });\r\n\r\n                this.axios({\r\n                    method: 'GET',\r\n                    url: '/categories',\r\n                }).then(result => {\r\n                    this.$toast.clear();\r\n                    if (result.data.meta.status == 200) {\r\n                        \r\n                        result.data.message.forEach((v,i) => {\r\n                            v.cat_deleted = false;\r\n                            v.index = i;\r\n                        })                  \r\n                        this.goodsindex = result.data.message.index;\r\n                        this.productData = result.data.message;\r\n                        result.data.message[0].cat_deleted = true;\r\n                        result.data.message.forEach((v,i) => {\r\n                            this.childData.push(v.children);\r\n                        });\r\n                        \r\n                        this.productData[this.productData.length - 1].children.splice(\r\n                            0,this.productData[this.productData.length - 1].children.length - 1\r\n                        );\r\n                        this.goodsindex = 0;\r\n                    }\r\n                }).catch(err => {\r\n                    this.$toast.clear();       \r\n                })\r\n            },\r\n            goSearch(cid,cat_name) {\r\n                this.$router.push({name: 'Search', query: {cid,cat_name}});\r\n            },\r\n            back() {\r\n                this.$router.go(-1);\r\n            },\r\n            goPage(name) {\r\n                this.$router.push({name});\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classification.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Classification.vue?vue&type=template&id=159f609b&scoped=true&\"\nimport script from \"./Classification.vue?vue&type=script&lang=js&\"\nexport * from \"./Classification.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"159f609b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}